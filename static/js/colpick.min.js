!function(t){var i=function(){var i={showEvent:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},colorScheme:"light",color:"3c8aff",livePreview:!0,flat:!1,layout:"full",submit:1,submitText:"OK",height:156,hsl:!1},e=function(i,e){var a=t(e).data("colpick").hsl?n(i):s(i);t(e).data("colpick").fields.eq(1).val(a.r).end().eq(2).val(a.g).end().eq(3).val(a.b).end()},r=function(i,e){t(e).data("colpick").fields.eq(4).val(Math.round(i.h)).end().eq(5).val(Math.round(i.s)).end().eq(6).val(Math.round(i.x)).end()},d=function(i,e){t(e).data("colpick").fields.eq(0).val(t(e).data("colpick").hsl?u(i):h(i))},p=function(i,e){t(e).data("colpick").selector.css("backgroundColor","#"+(t(e).data("colpick").hsl?u({h:i.h,s:100,x:50}):h({h:i.h,s:100,x:100}))),t(e).data("colpick").selectorIndic.css({left:parseInt(t(e).data("colpick").height*i.s/100,10),top:parseInt(t(e).data("colpick").height*(100-i.x)/100,10)})},f=function(i,e){t(e).data("colpick").hue.css("top",parseInt(t(e).data("colpick").height-t(e).data("colpick").height*i.h/360,10))},v=function(i,e){t(e).data("colpick").currentColor.css("backgroundColor","#"+(t(e).data("colpick").hsl?u(i):h(i)))},g=function(i,e){t(e).data("colpick").newColor.css("backgroundColor","#"+(t(e).data("colpick").hsl?u(i):h(i)))},k=function(i){var v,k=t(this).parent().parent();if(this.parentNode.className.indexOf("_hex")>0)k.data("colpick").color=v=k.data("colpick").hsl?o(N(this.value)):a(N(this.value)),e(v,k.get(0)),r(v,k.get(0));else if(this.parentNode.className.indexOf("_hsx")>0)k.data("colpick").color=v=P({h:parseInt(k.data("colpick").fields.eq(4).val(),10),s:parseInt(k.data("colpick").fields.eq(5).val(),10),x:parseInt(k.data("colpick").fields.eq(6).val(),10)}),e(v,k.get(0)),d(v,k.get(0));else{var _={r:parseInt(k.data("colpick").fields.eq(1).val(),10),g:parseInt(k.data("colpick").fields.eq(2).val(),10),b:parseInt(k.data("colpick").fields.eq(3).val(),10)};k.data("colpick").color=v=k.data("colpick").hsl?l(Y(_)):c(Y(_)),d(v,k.get(0)),r(v,k.get(0))}p(v,k.get(0)),f(v,k.get(0)),g(v,k.get(0)),k.data("colpick").onChange.apply(k.parent(),[v,k.data("colpick").hsl?u(v):h(v),k.data("colpick").hsl?n(v):s(v),k.data("colpick").el,0])},_=function(i){t(this).parent().removeClass("colpick_focus")},m=function(){t(this).parent().parent().data("colpick").fields.parent().removeClass("colpick_focus"),t(this).parent().addClass("colpick_focus")},x=function(i){i.preventDefault?i.preventDefault():i.returnValue=!1;var e=t(this).parent().find("input").focus(),a={el:t(this).parent().addClass("colpick_slider"),max:this.parentNode.className.indexOf("_hsx_h")>0?360:this.parentNode.className.indexOf("_hsx")>0?100:255,y:i.pageY,field:e,val:parseInt(e.val(),10),preview:t(this).parent().parent().data("colpick").livePreview};t(document).mouseup(a,y),t(document).mousemove(a,b)},b=function(t){return t.data.field.val(Math.max(0,Math.min(t.data.max,parseInt(t.data.val-t.pageY+t.data.y,10)))),t.data.preview&&k.apply(t.data.field.get(0),[!0]),!1},y=function(i){return k.apply(i.data.field.get(0),[!0]),i.data.el.removeClass("colpick_slider").find("input").focus(),t(document).off("mouseup",y),t(document).off("mousemove",b),!1},w=function(i){i.preventDefault?i.preventDefault():i.returnValue=!1;var e={cal:t(this).parent(),y:t(this).offset().top};t(document).on("mouseup touchend",e,C),t(document).on("mousemove touchmove",e,M);var a="touchstart"==i.type?i.originalEvent.changedTouches[0].pageY:i.pageY;return k.apply(e.cal.data("colpick").fields.eq(4).val(parseInt(360*(e.cal.data("colpick").height-(a-e.y))/e.cal.data("colpick").height,10)).get(0),[e.cal.data("colpick").livePreview]),!1},M=function(t){var i="touchmove"==t.type?t.originalEvent.changedTouches[0].pageY:t.pageY;return k.apply(t.data.cal.data("colpick").fields.eq(4).val(parseInt(360*(t.data.cal.data("colpick").height-Math.max(0,Math.min(t.data.cal.data("colpick").height,i-t.data.y)))/t.data.cal.data("colpick").height,10)).get(0),[t.data.preview]),!1},C=function(i){return t(document).off("mouseup touchend",C),t(document).off("mousemove touchmove",M),!1},I=function(i){i.preventDefault?i.preventDefault():i.returnValue=!1;var e={cal:t(this).parent(),pos:t(this).offset()};e.preview=e.cal.data("colpick").livePreview,t(document).on("mouseup touchend",e,q),t(document).on("mousemove touchmove",e,T);var a;return"touchstart"==i.type?(pageX=i.originalEvent.changedTouches[0].pageX,a=i.originalEvent.changedTouches[0].pageY):(pageX=i.pageX,a=i.pageY),k.apply(e.cal.data("colpick").fields.eq(6).val(parseInt(100*(e.cal.data("colpick").height-(a-e.pos.top))/e.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*(pageX-e.pos.left)/e.cal.data("colpick").height,10)).get(0),[e.preview]),!1},T=function(t){var i;return"touchmove"==t.type?(pageX=t.originalEvent.changedTouches[0].pageX,i=t.originalEvent.changedTouches[0].pageY):(pageX=t.pageX,i=t.pageY),k.apply(t.data.cal.data("colpick").fields.eq(6).val(parseInt(100*(t.data.cal.data("colpick").height-Math.max(0,Math.min(t.data.cal.data("colpick").height,i-t.data.pos.top)))/t.data.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(t.data.cal.data("colpick").height,pageX-t.data.pos.left))/t.data.cal.data("colpick").height,10)).get(0),[t.data.preview]),!1},q=function(i){return t(document).off("mouseup touchend",q),t(document).off("mousemove touchmove",T),!1},H=function(i){var e=t(this).parent(),a=e.data("colpick").color;e.data("colpick").origColor=a,v(a,e.get(0)),e.data("colpick").onSubmit(a,e.data("colpick").hsl?u(a):h(a),e.data("colpick").hsl?n(a):s(a),e.data("colpick").el)},S=function(i){i.stopPropagation();var e=t("#"+t(this).data("colpickId"));e.data("colpick").onBeforeShow.apply(this,[e.get(0)]);var a=t(this).offset(),o=a.top+this.offsetHeight,c=a.left,l=E(),r=e.width();c+r>l.l+l.w&&(c-=r),e.css({left:c+"px",top:o+"px"}),0!=e.data("colpick").onShow.apply(this,[e.get(0)])&&e.show(),t("html").mousedown({cal:e},X),e.mousedown(function(t){t.stopPropagation()})},X=function(i){0!=i.data.cal.data("colpick").onHide.apply(this,[i.data.cal.get(0)])&&i.data.cal.hide(),t("html").off("mousedown",X)},E=function(){var t="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(t?document.documentElement.scrollLeft:document.body.scrollLeft),w:window.innerWidth||(t?document.documentElement.clientWidth:document.body.clientWidth)}},P=function(t){return{h:Math.min(360,Math.max(0,t.h)),s:Math.min(100,Math.max(0,t.s)),x:Math.min(100,Math.max(0,t.x))}},Y=function(t){return{r:Math.min(255,Math.max(0,t.r)),g:Math.min(255,Math.max(0,t.g)),b:Math.min(255,Math.max(0,t.b))}},N=function(t){var i=6-t.length;if(i>0){for(var e=[],a=0;a<i;a++)e.push("0");e.push(t),t=e.join("")}return t},z=function(){var i=t(this).parent(),a=i.data("colpick").origColor;i.data("colpick").color=a,e(a,i.get(0)),d(a,i.get(0)),r(a,i.get(0)),p(a,i.get(0)),f(a,i.get(0)),g(a,i.get(0))};return{init:function(s){if("string"==typeof(s=t.extend({},i,s||{})).color)s.color=s.hsl?o(s.color):a(s.color);else if(void 0!=s.color.r&&void 0!=s.color.g&&void 0!=s.color.b)s.color=s.hsl?l(s.color):c(s.color);else{if(void 0==s.color.h||void 0==s.color.s||void 0==s.color.b)return this;s.color=s.hsl?fixHsl(s.color):fixHsb(s.color)}return this.each(function(){if(!t(this).data("colpickId")){var i=t.extend({},s);i.origColor=s.color;var a="collorpicker_"+parseInt(1e3*Math.random());t(this).data("colpickId",a);var o=t('<div class="colpick"><div class="colpick_color"><div class="colpick_color_overlay1"><div class="colpick_color_overlay2"><div class="colpick_selector_outer"><div class="colpick_selector_inner"></div></div></div></div></div><div class="colpick_hue"><div class="colpick_hue_arrs"><div class="colpick_hue_larr"></div><div class="colpick_hue_rarr"></div></div></div><div class="colpick_new_color"></div><div class="colpick_current_color"></div><div class="colpick_hex_field"><div class="colpick_field_letter">#</div><input type="text" maxlength="6" size="6" /></div><div class="colpick_rgb_r colpick_field"><div class="colpick_field_letter">R</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_g colpick_field"><div class="colpick_field_letter">G</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsx_h colpick_field"><div class="colpick_field_letter">H</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsx_s colpick_field"><div class="colpick_field_letter">S</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsx_x colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_submit"></div></div>').attr("id",a);o.addClass("colpick_"+i.layout+(i.submit?"":" colpick_"+i.layout+"_ns")),"light"!=i.colorScheme&&o.addClass("colpick_"+i.colorScheme),i.hsl&&o.addClass("colpick_hsl"),o.find("div.colpick_submit").html(i.submitText).click(H),i.fields=o.find("input").change(k).blur(_).focus(m),o.find("div.colpick_field_arrs").mousedown(x).end().find("div.colpick_current_color").click(z),i.selector=o.find("div.colpick_color").on("mousedown touchstart",I),i.selectorIndic=i.selector.find("div.colpick_selector_outer"),i.el=this,i.hue=o.find("div.colpick_hue_arrs"),huebar=i.hue.parent();var c=navigator.userAgent.toLowerCase(),l="Microsoft Internet Explorer"===navigator.appName,n=l?parseFloat(c.match(/msie ([0-9]{1,}[\.0-9]{0,})/)[1]):0,h=["#ff0000","#ff0080","#ff00ff","#8000ff","#0000ff","#0080ff","#00ffff","#00ff80","#00ff00","#80ff00","#ffff00","#ff8000","#ff0000"];if(l&&n<10){var u,b;for(u=0;u<=11;u++)b=t("<div></div>").attr("style","height:8.333333%; filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+h[u]+", endColorstr="+h[u+1]+'); -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='+h[u]+", endColorstr="+h[u+1]+')";'),huebar.append(b)}else stopList=h.join(","),huebar.attr("style","background:-webkit-linear-gradient(top center,"+stopList+"); background:-moz-linear-gradient(top center,"+stopList+"); background:linear-gradient(to bottom,"+stopList+"); ");o.find("div.colpick_hue").on("mousedown touchstart",w),i.newColor=o.find("div.colpick_new_color"),i.currentColor=o.find("div.colpick_current_color"),o.data("colpick",i),e(i.color,o.get(0)),r(i.color,o.get(0)),d(i.color,o.get(0)),f(i.color,o.get(0)),p(i.color,o.get(0)),v(i.color,o.get(0)),g(i.color,o.get(0)),i.flat?(o.appendTo(this).show(),o.css({position:"relative",display:"block"})):(o.appendTo(document.body),t(this).on(i.showEvent,S),o.css({position:"absolute"}))}})},showPicker:function(){return this.each(function(){t(this).data("colpickId")&&S.apply(this)})},hidePicker:function(){return this.each(function(){t(this).data("colpickId")&&t("#"+t(this).data("colpickId")).hide()})},setColor:function(i,o){if(o=void 0===o?1:o,"string"==typeof i)i=a(i);else if(void 0!=i.r&&void 0!=i.g&&void 0!=i.b)i=c(i);else{if(void 0==i.h||void 0==i.s||void 0==i.b)return this;i=fixHsb(i)}return this.each(function(){if(t(this).data("colpickId")){var a=t("#"+t(this).data("colpickId"));a.data("colpick").color=i,a.data("colpick").origColor=i,e(i,a.get(0)),r(i,a.get(0)),d(i,a.get(0)),f(i,a.get(0)),p(i,a.get(0)),g(i,a.get(0)),a.data("colpick").onChange.apply(a.parent(),[i,a.data("colpick").hsl?u(i):h(i),a.data("colpick").hsl?n(i):s(i),a.data("colpick").el,1]),o&&v(i,a.get(0))}})}}}(),e=function(t){return{r:(t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16))>>16,g:(65280&t)>>8,b:255&t}},a=function(t){return c(e(t))},o=function(t){return l(e(t))},c=function(t){var i={h:0,s:0,x:0},e=Math.min(t.r,t.g,t.b),a=Math.max(t.r,t.g,t.b),o=a-e;return i.x=a,i.s=0!=a?255*o/a:0,0!=i.s?t.r==a?i.h=(t.g-t.b)/o:t.g==a?i.h=2+(t.b-t.r)/o:i.h=4+(t.r-t.g)/o:i.h=-1,i.h*=60,i.h<0&&(i.h+=360),i.s*=100/255,i.x*=100/255,i},l=function(t){return r(c(t))},r=function(t){var i={h:0,s:0,x:0};return i.h=t.h,i.x=t.x*(200-t.s)/200,i.s=t.x*t.s/(100-Math.abs(2*i.x-100)),i},d=function(t){var i={h:0,s:0,x:0};return i.h=t.h,i.x=(200*t.x+t.s*(100-Math.abs(2*t.x-100)))/200,i.s=200*(i.x-t.x)/i.x,i},s=function(t){var i={},e=t.h,a=255*t.s/100,o=255*t.x/100;if(0==a)i.r=i.g=i.b=o;else{var c=o,l=(255-a)*o/255,r=e%60*(c-l)/60;360==e&&(e=0),e<60?(i.r=c,i.b=l,i.g=l+r):e<120?(i.g=c,i.b=l,i.r=c-r):e<180?(i.g=c,i.r=l,i.b=l+r):e<240?(i.b=c,i.r=l,i.g=c-r):e<300?(i.b=c,i.g=l,i.r=l+r):e<360?(i.r=c,i.g=l,i.b=c-r):(i.r=0,i.g=0,i.b=0)}return{r:Math.round(i.r),g:Math.round(i.g),b:Math.round(i.b)}},n=function(t){return s(d(t))},p=function(i){var e=[i.r.toString(16),i.g.toString(16),i.b.toString(16)];return t.each(e,function(t,i){1==i.length&&(e[t]="0"+i)}),e.join("")},h=function(t){return p(s(t))},u=function(t){return h(d(t))};t.fn.extend({colpick:i.init,colpickHide:i.hidePicker,colpickShow:i.showPicker,colpickSetColor:i.setColor}),t.extend({colpick:{rgbToHex:p,rgbToHsb:c,rgbToHsl:l,hsbToHex:h,hsbToRgb:s,hsbToHsl:r,hexToHsb:a,hexToHsl:o,hexToRgb:e,hslToHsb:d,hslToRgb:n,hslToHex:u}})}(jQuery);